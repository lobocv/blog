<!doctype html><html lang=en><head><meta charset=utf-8><title>Building a Comfortable Dev Environment - Lobocv Blog</title><meta name=description content="Software Development Blog"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=twitter:card content="summary_large_image"><meta property="og:site_name" content="Lobocv Blog"><meta property="og:title" content="Building a Comfortable Dev Environment"><meta property="og:description" content="Software Development Blog"><meta property="og:type" content="article"><meta property="og:url" content="http://blog.lobocv.com/posts/dev_environment/"><meta property="og:image" content="http://blog.lobocv.com/img/logo.jpg"><link rel="shortcut icon" href="/favicon.ico?v=1"><meta name=generator content="Hugo 0.107.0"><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/styles/colorful.min.css><link rel=stylesheet href=/css/bundle.min.3b1b5f2e683d24b1ea3b5a08c8254622e40aa935e0ead75ba6d45c0f14c2f965.css integrity="sha256-OxtfLmg9JLHqO1oIyCVGIuQKqTXg6tdbptRcDxTC+WU="><link rel=stylesheet href=/css/add-on.css></head><body><header id=site-header><nav id=site-nav><h1 class=nav-title><a href=/ class=nav>lobocv</a></h1><menu id=site-nav-menu class="flyout-menu menu"><a href=/ class="nav link"><i class='fa fa-home'></i> Home</a>
<a href=/categories/ class="nav link"><i class='fas fa-sitemap'></i> Categories</a>
<a href=/about/ class="nav link"><i class='far fa-id-card'></i> About</a>
<a href=#share-menu class="nav link share-toggle"><i class="fas fa-share-alt">&nbsp;</i>Share</a>
<a href=#search-input class="nav link search-toggle"><i class="fas fa-search">&nbsp;</i>Search</a></menu>
<a href=#search-input class="nav search-toggle"><i class="fas fa-search fa-2x">&nbsp;</i></a>
<a href=#share-menu class="nav share-toggle"><i class="fas fa-share-alt fa-2x">&nbsp;</i></a>
<a href=#site-nav class="nav nav-toggle"><i class="fas fa-bars fa-2x"></i></a></nav><menu id=search class=menu><input id=search-input class="search-input menu"></input><div id=search-results class="search-results menu"></div></menu><menu id=share-menu class="flyout-menu menu"><h1>Share Post</h1><a href="//twitter.com/share?text=Building%20a%20Comfortable%20Dev%20Environment&url=http%3a%2f%2fblog.lobocv.com%2fposts%2fdev_environment%2f" target=_blank rel=noopener class="nav share-btn twitter"><p>Twitter</p></a><a href="//www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fblog.lobocv.com%2fposts%2fdev_environment%2f" target=_blank rel=noopener class="nav share-btn facebook"><p>Facebook</p></a><a href="//www.reddit.com/submit?url=http%3a%2f%2fblog.lobocv.com%2fposts%2fdev_environment%2f&title=Building%20a%20Comfortable%20Dev%20Environment" target=_blank rel=noopener class="nav share-btn reddit"><p>Reddit</p></a><a href="//www.linkedin.com/shareArticle?url=http%3a%2f%2fblog.lobocv.com%2fposts%2fdev_environment%2f&title=Building%20a%20Comfortable%20Dev%20Environment" target=_blank rel=noopener class="nav share-btn linkedin"><p>LinkedIn</p></a><a href="mailto:?subject=Check%20out%20this%20post%20by %7b%20%20%20%20%20%20%20%20map%5b%5d%7d&body=http%3a%2f%2fblog.lobocv.com%2fposts%2fdev_environment%2f" target=_blank class="nav share-btn email" data-proofer-ignore><p>Email</p></a></menu></header><div id=wrapper><section id=site-intro><a href=/><img src=/img/logo.jpg class=triangle width=200px alt></a><header><h1>Calvin Lobo</h1></header><main><p>software design, architecture and philosophy</p></main><footer><ul class=socnet-icons><li><a href=//github.com/lobocv target=_blank rel=noopener title=GitHub class="fab fa-github"></a></li><li><a href=//www.linkedin.com/in/lobocv target=_blank rel=noopener title=LinkedIn class="fab fa-linkedin"></a></li><li><a href=mailto:calvinvlobo@gmail.com target=_blank title=Email class="far fa-envelope"></a></li></ul></footer></section><main id=site-main><article><div class=post><header><div class=title><h2><a href=/posts/dev_environment/>Building a Comfortable Dev Environment</a></h2></div><div class=meta><time datetime="2021-07-06 00:00:00 +0000 UTC">July 6, 2021</time><p>9-Minute Read</p></div></header><div id=socnet-share><a href="//twitter.com/share?text=Building%20a%20Comfortable%20Dev%20Environment&url=http%3a%2f%2fblog.lobocv.com%2fposts%2fdev_environment%2f" target=_blank rel=noopener class="nav share-btn twitter"><p>Twitter</p></a><a href="//www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fblog.lobocv.com%2fposts%2fdev_environment%2f" target=_blank rel=noopener class="nav share-btn facebook"><p>Facebook</p></a><a href="//www.reddit.com/submit?url=http%3a%2f%2fblog.lobocv.com%2fposts%2fdev_environment%2f&title=Building%20a%20Comfortable%20Dev%20Environment" target=_blank rel=noopener class="nav share-btn reddit"><p>Reddit</p></a><a href="//www.linkedin.com/shareArticle?url=http%3a%2f%2fblog.lobocv.com%2fposts%2fdev_environment%2f&title=Building%20a%20Comfortable%20Dev%20Environment" target=_blank rel=noopener class="nav share-btn linkedin"><p>LinkedIn</p></a><a href="mailto:?subject=Check%20out%20this%20post%20by %7b%20%20%20%20%20%20%20%20map%5b%5d%7d&body=http%3a%2f%2fblog.lobocv.com%2fposts%2fdev_environment%2f" target=_blank class="nav share-btn email" data-proofer-ignore><p>Email</p></a></div><div class=content><p>Being a software developer can be overwhelming at times. There are an endlessly diverse set of tools, technologies, languages
and frameworks to choose from. To make it worse, that list grows larger and larger each day. Tools like git, docker,
docker-compose, kubernetes, ssh, curl, sed, awk, grep, jq etc. are all tools we use multiple times a day.</p><p>Most of these
tools have a small subset of commands / flags or use-cases that we use most often. In more complex cases, these tools can
be piped together. As the years go by, with repetition, you end up
memorizing these commands. This is great for productivity, but it takes time!</p><p>In the meantime, while you have yet to internalize these commands, your brain needs to stop (even for a second) to think:
&ldquo;What was that flag again?&rdquo;</p><p>These small but frequent context switches cause us to lose a step on what is more important at the time: solving that bug,
or finishing that feature. The solution is simple. Keep a cheatsheet of all your favorite commands written on cue cards.
Tuck that cue card under your pillow and each night before bed, recite all the commands in their entirety out loud as you
eventually fall asleep.</p><p>&mldr;</p><p>No. We&rsquo;re not in school anymore (well some of you may be). There is a (much) better way of removing this
unnecessary cognitive load so you can always stay focused on your task at hand.</p><p>In this article I am going to talk about a few things I do to speed up my development flow. I&rsquo;ve found this incredibly
valuable and I hope you do too. Best of all, you can take as much or as little from this flow as suites you.</p><p>Customize it, change it, <strong>improve</strong> it and share your results, I would love to hear it.</p><p>Let&rsquo;s get started with the simplest thing you can do:</p><h2 id=the-shell>The Shell</h2><h3 id=aliases>Aliases</h3><p>A shell alias is a shortcut that you can define for any command. They are simple to create and can save you a lot of time
and memorizing. For example, instead of typing <code>ls -lah</code> each time, you can create an alias <code>la</code> that would do the exact
same thing:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#007020>alias</span> <span style=color:#963>la</span><span style=color:#333>=</span><span style=background-color:#fff0f0>&#34;ls -lAh&#34;</span>
</span></span></code></pre></div><p>Aliases act as a run-time replacement of your alias with the defined command. This means you can augment your alias on
the fly:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>la -R
</span></span></code></pre></div><p>would translate to:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ls -lAh -R
</span></span></code></pre></div><p>Aliases are a great way to turn that awkward to remember or type command into something dead simple that you can
remember immediately. There is no alias too silly or simple. The following are probably my most commonly used aliases:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#007020>alias</span> cd.<span style=color:#333>=</span><span style=background-color:#fff0f0>&#34;cd ..&#34;</span>
</span></span><span style=display:flex><span><span style=color:#007020>alias</span> cd..<span style=color:#333>=</span><span style=background-color:#fff0f0>&#34;cd ../..&#34;</span>
</span></span><span style=display:flex><span><span style=color:#007020>alias</span> cd...<span style=color:#333>=</span><span style=background-color:#fff0f0>&#34;cd ../../..&#34;</span>
</span></span></code></pre></div><p>Lastly, aliases need to be loaded into your shell. The most common way of loading aliases is to define them in your <code>.bashrc</code>
so that they are defined whenever you open a new shell.</p><h3 id=shell-functions>Shell Functions</h3><p>An even more flexible option to aliases are shell functions. These act similarly to an alias but instead of simply
replacing text being sent to your shell&rsquo;s <a href=https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop>REPL</a>, it executes the shell code you&rsquo;ve defined. Use shell functions whenever
you want to do something more complex than just shortcuts such as provide input arguments, flags and pipe input.
Below is an example function to extract a specific JSON key-value from input:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#888># Reads from JSON from stdin and print outs the value of the specified key</span>
</span></span><span style=display:flex><span><span style=color:#888># $1: Key to print</span>
</span></span><span style=display:flex><span><span style=color:#888># Example: echo &#39;{&#34;a&#34;: 1, &#34;b&#34;: 2}&#39; | jsonparsekey b</span>
</span></span><span style=display:flex><span><span style=color:#888># &gt; 2</span>
</span></span><span style=display:flex><span><span style=color:#080;font-weight:700>function</span> jsonparsekey<span style=color:#333>()</span> <span style=color:#333>{</span>
</span></span><span style=display:flex><span>	<span style=color:#007020>local</span> <span style=color:#963>KEY</span><span style=color:#333>=</span><span style=color:#963>$1</span>
</span></span><span style=display:flex><span>	python -c <span style=background-color:#fff0f0>&#34;import sys,json; s=json.loads(&#39;&#39;.join([l for l in sys.stdin])); print s[&#39;</span><span style=color:#963>$KEY</span><span style=background-color:#fff0f0>&#39;]&#34;</span>
</span></span><span style=display:flex><span><span style=color:#333>}</span>
</span></span></code></pre></div><p>I find this useful for filtering response data of HTTP APIs as I am debugging.</p><p>Check out some of my other <a href=https://github.com/lobocv/mysetup/tree/master/aliases>aliases and shell functions</a>.</p><h3 id=upgrade-from-bash>Upgrade from Bash</h3><p>Bash is ubiquitous and great, but over the years people have developed much more full-featured and customizable
shells such as <a href=https://www.zsh.org/>zsh</a> and <a href=https://fishshell.com/>fish</a>. I would highly recommend looking into these
shells or the many others that exist. I personally use <code>zsh</code> with the <a href=https://ohmyz.sh/>oh-my-zsh</a> configuration manager
to extend and customize the shell to my liking.</p><h2 id=storing-your-configuration>Storing your Configuration</h2><p>Over the years you will likely be using many different computers. I personally have my home desktop, a personal laptop and
my work laptop. To keep configurations on all my devices in sync I have a <a href=https://github.com/lobocv/mysetup>git repository</a>
which stores all my aliases, shell functions, zsh plugins and common system packages. This repo also prevents me from losing
and having to recreate configurations as I reinstall my OS or format my hard drives.</p><p>I even have a <a href=https://github.com/lobocv/mysetup/blob/master/load_aliases.sh>script</a>
that loads the repository, keeping my <code>.zshrc</code> file edits minimal:</p><p><strong>.zshrc</strong></p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#007020>source</span> ~/lobocv/mysetup/load_aliases.sh
</span></span></code></pre></div><h2 id=containerized-environments>Containerized Environments</h2><p>Docker and docker-compose make it simple to create a customized and reproducible development
environment for your team&rsquo;s software projects. In addition to the docker container, I have several scripts which help
make common tasks dead simple. These tasks could be as trivial as building the docker image(s), starting and entering
the development container and tearing it down when I&rsquo;m finished.</p><h3 id=the-docker-container>The Docker Container</h3><p>At the heart of the development environment is the development container. This container contains all the tools and
dependencies I would need in order to perform my daily tasks. If a public docker image with the main
dependencies installed already exists, I use that as the base image for the dev container. For example, when I write <code>Go</code> applications,
I use the <a href=https://hub.docker.com/_/golang>golang</a> docker image which already includes the go toolchain.
Afterwards, I install any additional dependencies I need for the project such as protocol buffers and linters.</p><p><strong>Dockerfile</strong></p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dockerfile data-lang=dockerfile><span style=display:flex><span><span style=color:#080;font-weight:700>FROM</span><span style=background-color:#fff0f0> golang:1.16</span><span style=color:red;background-color:#faa>
</span></span></span><span style=display:flex><span><span style=color:red;background-color:#faa>
</span></span></span><span style=display:flex><span><span style=color:red;background-color:#faa></span><span style=color:#080;font-weight:700>RUN</span> go get google.golang.org/protobuf/cmd/protoc-gen-go <span style=color:#666;background-color:#fff0f0;font-weight:700>\
</span></span></span><span style=display:flex><span><span style=color:#666;background-color:#fff0f0;font-weight:700></span>         google.golang.org/grpc/cmd/protoc-gen-go-grpc<span style=color:red;background-color:#faa>
</span></span></span></code></pre></div><p>Docker-compose makes it simple to orchestrate several containers which can then communicate with one another via a common network or
share volumes with the host or one another. In the following docker-compose example config, I define the development
container, <code>dev</code>, and mount my local filesystem (<code>./</code>) to a <code>/src</code> folder inside the container. This allows my development
container have access to code in the repository and immediately see changes being made to them from my IDE.</p><p>The example configuration below also starts up a MongoDB container named <code>mongo</code>.</p><p><strong>docker-compose.yaml</strong></p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-dockerfile data-lang=dockerfile><span style=display:flex><span>version: <span style=background-color:#fff0f0>&#34;3&#34;</span><span style=color:red;background-color:#faa>
</span></span></span><span style=display:flex><span><span style=color:red;background-color:#faa>
</span></span></span><span style=display:flex><span><span style=color:red;background-color:#faa></span>services:<span style=color:red;background-color:#faa>
</span></span></span><span style=display:flex><span><span style=color:red;background-color:#faa>
</span></span></span><span style=display:flex><span><span style=color:red;background-color:#faa></span>  dev:<span style=color:red;background-color:#faa>
</span></span></span><span style=display:flex><span><span style=color:red;background-color:#faa></span>    build:<span style=color:red;background-color:#faa>
</span></span></span><span style=display:flex><span><span style=color:red;background-color:#faa></span>      context: .<span style=color:red;background-color:#faa>
</span></span></span><span style=display:flex><span><span style=color:red;background-color:#faa></span>      dockerfile:  ./Dockerfile<span style=color:red;background-color:#faa>
</span></span></span><span style=display:flex><span><span style=color:red;background-color:#faa></span>    command: sleep <span style=color:#60e;font-weight:700>1000000</span><span style=color:red;background-color:#faa>
</span></span></span><span style=display:flex><span><span style=color:red;background-color:#faa></span>    volumes:<span style=color:red;background-color:#faa>
</span></span></span><span style=display:flex><span><span style=color:red;background-color:#faa></span>      - ./:/src<span style=color:red;background-color:#faa>
</span></span></span><span style=display:flex><span><span style=color:red;background-color:#faa>
</span></span></span><span style=display:flex><span><span style=color:red;background-color:#faa></span>  mongo:<span style=color:red;background-color:#faa>
</span></span></span><span style=display:flex><span><span style=color:red;background-color:#faa></span>    image: mongo:4.4-bionic<span style=color:red;background-color:#faa>
</span></span></span></code></pre></div><h3 id=accessing-the-development-environment>Accessing the Development Environment</h3><p>To make it fast and simple to get going, I write a bash script that starts the container(s)
and enters the development container&rsquo;s shell, which I call the <code>devshell</code>:</p><p><strong>devshell.sh</strong></p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#579>#!/usr/bin/env bash
</span></span></span><span style=display:flex><span><span style=color:#579></span>
</span></span><span style=display:flex><span><span style=color:#963>PROJECT_NAME</span><span style=color:#333>=</span>myproject
</span></span><span style=display:flex><span><span style=color:#963>DEV_CONTAINER</span><span style=color:#333>=</span>dev
</span></span><span style=display:flex><span><span style=color:#963>RC_FILE</span><span style=color:#333>=</span>/src/.devshell_bashrc
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#888># If the -b flag is provided then build the containers before entering the shell</span>
</span></span><span style=display:flex><span><span style=color:#080;font-weight:700>if</span> <span style=color:#333>[</span> <span style=background-color:#fff0f0>&#34;</span><span style=color:#963>$1</span><span style=background-color:#fff0f0>&#34;</span> <span style=color:#333>==</span> <span style=background-color:#fff0f0>&#34;-b&#34;</span> <span style=color:#333>]</span>; <span style=color:#080;font-weight:700>then</span>
</span></span><span style=display:flex><span>  docker-compose -p <span style=background-color:#eee>${</span><span style=color:#963>PROJECT_NAME</span><span style=background-color:#eee>}</span> build
</span></span><span style=display:flex><span><span style=color:#080;font-weight:700>fi</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#888># Check if the dev container is already up. If it&#39;s not, then start it</span>
</span></span><span style=display:flex><span><span style=color:#333>[</span> ! <span style=background-color:#fff0f0>&#34;</span><span style=color:#080;font-weight:700>$(</span>docker ps | grep <span style=background-color:#eee>${</span><span style=color:#963>DEV_CONTAINER</span><span style=background-color:#eee>}</span><span style=color:#080;font-weight:700>)</span><span style=background-color:#fff0f0>&#34;</span> <span style=color:#333>]</span> <span style=color:#333>&amp;&amp;</span> docker-compose -p <span style=background-color:#eee>${</span><span style=color:#963>PROJECT_NAME</span><span style=background-color:#eee>}</span> up -d <span style=background-color:#eee>${</span><span style=color:#963>DEV_CONTAINER</span><span style=background-color:#eee>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#888># Enter the dev shell and load the rc file</span>
</span></span><span style=display:flex><span>docker <span style=color:#007020>exec</span> -it -e <span style=background-color:#fff0f0>&#34;TERM=xterm-256color&#34;</span> <span style=background-color:#fff0f0>&#34;</span><span style=background-color:#eee>${</span><span style=color:#963>PROJECT_NAME</span><span style=background-color:#eee>}</span><span style=background-color:#fff0f0>_</span><span style=background-color:#eee>${</span><span style=color:#963>DEV_CONTAINER</span><span style=background-color:#eee>}</span><span style=background-color:#fff0f0>_1&#34;</span> bash --rcfile <span style=background-color:#eee>${</span><span style=color:#963>RC_FILE</span><span style=background-color:#eee>}</span>
</span></span></code></pre></div><p>This script checks if the docker container is already running so that it does not always need to call the (somewhat)
slow <code>docker-compose up</code> command.</p><h3 id=customizing-the-environment>Customizing the environment</h3><p>You may have noticed that in <code>devshell.sh</code> I provided an <code>--rcfile</code> parameter to <code>bash</code>. This allows us to setup any
customized environment we want in the devshell. This can contain functions or aliases that are specific to
your project. I like to have this script define a <code>help()</code> function and print it upon entry of the shell.
This helps new team members joining the project get accustom to what features exist in the devshell.
It also helps broadcast any improvements added to the shell and acts as reference documentation for the devshell.</p><p><strong>.devshell_bashrc</strong></p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#888># Define any common useful aliases or functions for the team </span>
</span></span><span style=display:flex><span><span style=color:#007020>alias</span> <span style=color:#963>gotest</span><span style=color:#333>=</span><span style=background-color:#fff0f0>&#34;go test ./...&#34;</span>
</span></span><span style=display:flex><span><span style=color:#007020>alias</span> <span style=color:#963>testify</span><span style=color:#333>=</span><span style=background-color:#fff0f0>&#34;go test -testify.m&#34;</span>
</span></span><span style=display:flex><span><span style=color:#007020>alias</span> <span style=color:#963>lint</span><span style=color:#333>=</span><span style=background-color:#fff0f0>&#34;golangci-lint run -v ./...&#34;</span>
</span></span><span style=display:flex><span><span style=color:#888># Set default cd to go to project root</span>
</span></span><span style=display:flex><span><span style=color:#007020>alias</span> <span style=color:#963>cd</span><span style=color:#333>=</span><span style=background-color:#fff0f0>&#39;HOME=/src cd&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#080;font-weight:700>function</span> help<span style=color:#333>()</span> <span style=color:#333>{</span>
</span></span><span style=display:flex><span>  <span style=color:#007020>echo</span> <span style=background-color:#fff0f0>&#34;
</span></span></span><span style=display:flex><span><span style=background-color:#fff0f0>=======================================
</span></span></span><span style=display:flex><span><span style=background-color:#fff0f0>Welcome to the dev shell
</span></span></span><span style=display:flex><span><span style=background-color:#fff0f0>=======================================
</span></span></span><span style=display:flex><span><span style=background-color:#fff0f0>
</span></span></span><span style=display:flex><span><span style=background-color:#fff0f0>Type &#34;</span>help<span style=background-color:#fff0f0>&#34; in the shell to repeat this message.
</span></span></span><span style=display:flex><span><span style=background-color:#fff0f0>
</span></span></span><span style=display:flex><span><span style=background-color:#fff0f0>Additional shell customizations can be loaded by creating a .customrc file in the root of the project.
</span></span></span><span style=display:flex><span><span style=background-color:#fff0f0>
</span></span></span><span style=display:flex><span><span style=background-color:#fff0f0>Here is a list of common commands you can do:
</span></span></span><span style=display:flex><span><span style=background-color:#fff0f0>
</span></span></span><span style=display:flex><span><span style=background-color:#fff0f0>* gotest: Run all go tests in the current directory
</span></span></span><span style=display:flex><span><span style=background-color:#fff0f0>
</span></span></span><span style=display:flex><span><span style=background-color:#fff0f0>* lint: Run golangci-lint in the current directory
</span></span></span><span style=display:flex><span><span style=background-color:#fff0f0>
</span></span></span><span style=display:flex><span><span style=background-color:#fff0f0>* testify: Run a testify test by name
</span></span></span><span style=display:flex><span><span style=background-color:#fff0f0>  Arguments:
</span></span></span><span style=display:flex><span><span style=background-color:#fff0f0>      1 : Regex to match test names
</span></span></span><span style=display:flex><span><span style=background-color:#fff0f0>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#333>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#888># Source any user-specific / personal aliases or functions</span>
</span></span><span style=display:flex><span><span style=color:#080;font-weight:700>if</span> <span style=color:#333>[[</span> -f .customrc <span style=color:#333>]]</span>; <span style=color:#080;font-weight:700>then</span>
</span></span><span style=display:flex><span>    <span style=color:#007020>echo</span> <span style=background-color:#fff0f0>&#34;Custom shell configuration found. Loading...&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#007020>source</span> .customrc
</span></span><span style=display:flex><span><span style=color:#080;font-weight:700>fi</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#007020>help</span>
</span></span></code></pre></div><h3 id=personalizing-the-shell>Personalizing the Shell</h3><p>At the end of the <code>.devshell_bashrc</code> script above, we source a <code>.customrc</code> file (if it exists). Each member of your team
can use this file to personalize their devshell. Be sure to add <code>.customrc</code> to your project&rsquo;s
<code>.gitignore</code> so that someone does not accidentally share their own personal scripts.</p><p>Here is an example of some additional personalization I do to my <code>devshell</code>:</p><p><strong>.customrc</strong></p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#579>#!/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#579></span><span style=color:#007020>echo</span> <span style=background-color:#fff0f0>&#34;Hi Calvin!&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#007020>alias</span> cd.<span style=color:#333>=</span><span style=background-color:#fff0f0>&#34;cd ..&#34;</span>
</span></span><span style=display:flex><span><span style=color:#007020>alias</span> cd..<span style=color:#333>=</span><span style=background-color:#fff0f0>&#34;cd ../..&#34;</span>
</span></span><span style=display:flex><span><span style=color:#007020>alias</span> cd...<span style=color:#333>=</span><span style=background-color:#fff0f0>&#34;cd ../../..&#34;</span>
</span></span><span style=display:flex><span><span style=color:#007020>alias</span> <span style=color:#963>la</span><span style=color:#333>=</span><span style=background-color:#fff0f0>&#34;ls -lah&#34;</span>
</span></span><span style=display:flex><span><span style=color:#007020>alias</span> <span style=color:#963>gofmt</span><span style=color:#333>=</span><span style=background-color:#fff0f0>&#34;gofmt -w -s .&#34;</span>
</span></span><span style=display:flex><span><span style=color:#007020>alias</span> <span style=color:#963>run</span><span style=color:#333>=</span><span style=background-color:#fff0f0>&#39;go run ./...&#39;</span>
</span></span></code></pre></div><p>While these examples are pretty general purpose, there are many ways you can tailor your environment
to speed up your development flows. Be creative! Here are some ideas:</p><ul><li>Changing to a particular directory which I often use</li><li>Run a particular tool such as generating proto files</li><li>Building and running a program / service via a regex</li><li>Changing to a particular project directory via a regex</li><li>Shortcuts interacting with ElasticSearch: List/delete aliases, templates, indices</li></ul><h3 id=teardown-and-cleanup>Teardown and Cleanup</h3><p>Tearing down the containers is as simple as calling <code>docker-compose down</code>. Although this is a simple command, having it
defined as a script opens the door to add more functionality such as only shutting down certain containers.
It also provides nice symmetry to <code>devshell.sh</code> and makes things dead simple.</p><p><strong>devdown.sh</strong></p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#579>#!/usr/bin/env bash
</span></span></span><span style=display:flex><span><span style=color:#579></span>
</span></span><span style=display:flex><span><span style=color:#963>PROJECT_NAME</span><span style=color:#333>=</span>myproject
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>docker-compose -p <span style=background-color:#eee>${</span><span style=color:#963>PROJECT_NAME</span><span style=background-color:#eee>}</span> down --remove-orphans
</span></span></code></pre></div><h3 id=try-it-yourself>Try it yourself</h3><p>A working example of this development environment can be found at my <a href=https://github.com/lobocv/project-bootstrap>project-bootstrap repository</a>.
Feel free to try it out!</p><h2 id=make-it-your-own>Make it your own</h2><p>There is a lot of focus on optimizing your code or algorithms, but optimizing your development efficiency is one of the
highest impact changes you can make. These are just some examples of what you can do. Be creative and come up with your own
optimizations. Keep track of the context changes and inefficiencies in your workflow and you&rsquo;ll be surprised how much of
an impact it can have on your output. Keep in mind, that unlike code, these gains with follow you throughout your professional career.</p></div><footer><div class=stats><ul class=categories><li><a class=article-terms-link href=/categories/developer-efficiency/>Developer Efficiency</a></li></ul><ul class=tags><li>None</li></ul></div></footer></div></article><div class=pagination><a href=/posts/event_folding/ class="button left"><span>Reducing System Load With Event Folding</span></a>
<a href=/posts/recursive_jsonb_merge/ class="button right"><span>Recursively Merging JSONB in PostgreSQL</span></a></div></main><section id=site-sidebar><section id=recent-posts><header><h1>Recent Posts</h1></header><article class=mini-post><header><h2><a href=/posts/golang_testing/>Testing complex workflows in Go</a></h2><time class=published datetime="2022-10-01 00:00:00 +0000 UTC">October 1, 2022</time></header></article><article class=mini-post><header><h2><a href=/posts/richer_golang_errors/>Advanced Go Error Handling Made Simple</a></h2><time class=published datetime="2022-03-22 00:00:00 +0000 UTC">March 22, 2022</time></header></article><article class=mini-post><header><h2><a href=/posts/elasticsearch_slots/>Defusing an ElasticSearch Mapping Explosion with Slots</a></h2><time class=published datetime="2021-12-12 00:00:00 +0000 UTC">December 12, 2021</time></header></article><article class=mini-post><header><h2><a href=/posts/event_folding/>Reducing System Load With Event Folding</a></h2><time class=published datetime="2021-08-01 00:00:00 +0000 UTC">August 1, 2021</time></header></article><article class=mini-post><header><h2><a href=/posts/dev_environment/>Building a Comfortable Dev Environment</a></h2><time class=published datetime="2021-07-06 00:00:00 +0000 UTC">July 6, 2021</time></header></article><footer><a href=/blog/ class=button>See More</a></footer></section><section id=categories><header><h1><a href=/categories>Categories</a></h1></header><ul><li><a href=/categories/databases/>databases<span class=count>2</span></a><li><a href=/categories/golang/>golang<span class=count>2</span></a><li><a href=/categories/architecture/>architecture<span class=count>1</span></a><li><a href=/categories/developer-efficiency/>developer-efficiency<span class=count>1</span></a></li></ul></section><section id=mini-bio><header><h1>About</h1></header><p>Backend software developer</p><footer><a href=/about class=button>Learn More</a></footer></section></section><footer id=site-footer><ul class=socnet-icons><li><a href=//github.com/lobocv target=_blank rel=noopener title=GitHub class="fab fa-github"></a></li><li><a href=//www.linkedin.com/in/lobocv target=_blank rel=noopener title=LinkedIn class="fab fa-linkedin"></a></li><li><a href=mailto:calvinvlobo@gmail.com target=_blank title=Email class="far fa-envelope"></a></li></ul><p class=copyright>© 2022 Lobocv Blog<br>Theme: <a href=https://github.com/pacollins/hugo-future-imperfect-slim target=_blank rel=noopener>Hugo Future Imperfect Slim</a><br>A <a href=https://html5up.net/future-imperfect target=_blank rel=noopener>HTML5 UP port</a> | Powered by <a href=https://gohugo.io/ title=0.107.0 target=_blank rel=noopener>Hugo</a></p></footer><a id=back-to-top href=# class="fas fa-arrow-up fa-2x"></a>
<script src=/js/highlight.js></script>
<script>hljs.highlightAll()</script><script src=/js/bundle.min.290cc21bbcfa40fea4cc1a498d03cc9cec0e2291c9f5cbb65e6ff4f9a0599874.js integrity="sha256-KQzCG7z6QP6kzBpJjQPMnOwOIpHJ9cu2Xm/0+aBZmHQ="></script>
<script src=/js/add-on.js></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-196196121-1","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></div></body></html>